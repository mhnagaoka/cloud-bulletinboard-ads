---
applications:
- name: bulletinboard-ads
  health-check-type: http
  health-check-http-endpoint: /health
  memory: 768M
  path: target/bulletinboard-ads.war
  buildpack: https://github.com/cloudfoundry/java-buildpack.git#v4.9
  env:
      # Use the non-blocking /dev/urandom instead of the default to generate random numbers.
      # This may help with slow startup times, especially when using Spring Boot.
      JAVA_OPTS: -Djava.security.egd=file:///dev/./urandom
      USER_ROUTE: 'https://opensapcp5userservice.cfapps.eu10.hana.ondemand.com'
  services:
    - postgres-bulletinboard-ads
    - applogs-bulletinboard
    - mq-bulletinboard
- name: approuter
  host: approuter-i866074
  path: src/main/approuter
  buildpack: https://github.com/cloudfoundry/nodejs-buildpack.git#v1.6.10
  memory: 128M
  env:
    XSAPPNAME: bulletinboard-i866074
    TENANT_HOST_PATTERN: "^(.*)-approuter-i866074.cfapps.eu10.hana.ondemand.com"
    destinations: >
      [
        {"name":"ads-destination",
         "url":"https://bulletinboard-ads-i866074.cfapps.eu10.hana.ondemand.com",
         "forwardAuthToken": true}
      ]
  services:
    - applogs-bulletinboard
    - uaa-bulletinboard